<!DOCTYPE html>
<html>
    <!-- Phần head -->
    <head>
        <meta charset="UTF-8">
        <!-- LINK CSS -->
        <link rel="stylesheet" href="../CSS/ANIMATION.css">
        <link rel="stylesheet" href="../CSS/FONT.css">
        <link rel="stylesheet" href="../CSS/HOME.css">
        <link rel="stylesheet" href="../CSS/MENU.CSS">
        <link rel="stylesheet" href="../CSS/RESPONSIVE_1440.css">
        <link rel="stylesheet" href="../CSS/RESPONSIVE_1024.css">
        <link rel="stylesheet" href="../CSS/RESPONSIVE_768.css">
        <link rel="stylesheet" href="../CSS/RESPONSIVE_425.css">
        <link rel="stylesheet" href="../CSS/RESPONSIVE_375.css">
        <link rel="stylesheet" href="../CSS/RESPONSIVE_320.css">
        <link rel="icon" href="../IMAGES/cốm milktea logo.png" type="images/x-icon">

        <!-- ICON SEARCH -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <!-- ICON CHUÔNG  -->
        <script src="https://kit.fontawesome.com/1d1d7d2471.js" crossorigin="anonymous"></script>
        <!-- ICON HEART -->
        <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
        <!-- ICON CART  -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
        <!-- Hiệu ứng -->
        <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
        
        <!-- Lỗi RESPONSIVE -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- js -->
        <link rel="stylesheet" href="../JS/Menu.js">
        <title>CỐM MILKTEA - MENU</title>
        
    </head>
    <body>

        <!-- HAMBURGER  -->
        <header>
            <nav class="nav-king">
                <div class="logo">
                    <img src="../IMAGES/cốm milktea logo.png" alt="">
                </div>
                <div class="openMenu"><i class="fa fa-bars"></i></div>
                <ul class="mainMenu">
                    <li><a href="HOME.html">Home</a></li>
                    <li><a href="ABOUTUS.html">ABOUT US</a></li>
                    <li><a href="MENU.html">MENU</a></li>
                    <li><a href="POPULAR.html">POPULAR</a></li>
                    <li><a href="FEEDBACK.html">FEEDBACK</a></li>
                    <li><a href="CONTACTUS.html">CONTACT</a></li>
                    <div class="closeMenu"><i class="fa fa-times"></i></div>
                    <span class="icons">
                        <i class="fab fa-facebook"></i>
                        <i class="fab fa-instagram"></i>
                        <i class="fab fa-twitter"></i>
                        <i class="fab fa-github"></i>
                    </span>
                </ul>
            </nav>
            </header>


        <!-- PHẦN HEADER CHO WEBSITE -->
        <header>
            <header class="header-1">
                <div class="main-header">
                    <!-- ĐÂY LÀ LOGO CỐM MILK TEA -->
                    <div class="main-img" data-aos="fade-right">
                        <img src="../IMAGES/cốm milktea logo.png" alt="LOGO CỐM MILKTEA">
                    </div>

                    <!-- ĐÂY LÀ THẺ BỐ CHỨA TÊN THƯƠNG HIỆU VÀ INPUT  -->
                    <div class="main-text-full" data-aos="fade-up">
                        <div class="middle">
                        <!-- ĐÂY LÀ TEXT THƯƠNG HIỆU -->
                            <div class="main-text">
                                <p>CỐMMILKTEA</p>
                            </div>
                            <!-- ĐÂY LÀ THANH INPUT -->
                            <div class="main-input">
                                <i class="fa fa-search">
                                    <input type="text" placeholder="Search">
                                </i>
                            </div>
                        </div>
                    </div>

                    <!-- PHẦN ACCOUNT  -->
                    <div class="main-account" data-aos="fade-left">
                        <!-- 3 ICON  -->
                        <div class="main-icon">
                            <!-- ICON CHUÔNG  -->
                            <i class='cl-hea far fa-bell'></i>
                            <!-- ICON TRÁI TIM -->
                            <i class='cl-hea far fa-heart'></i>
                            <!-- ICON GIỎ HÀNG -->
                            <div class="shopping">
                                <i class="cl-hea fa fa-shopping-cart " ><span class="quantity">0</span></i>
                            </div>
                               
                            
                        </div>
                    
                        <!-- MY ACCOUNT -->
                        <div class="main-account-1">
                            <p>My Account</p>
                            <!-- HÌNH ẢNH ACOUNT -->
                            <img src="../IMAGES/My Acount.png" alt="My Acount">
                        </div>
                    </div>
                </div>
            </header>  
            <!-- Nội dung 1: MENU  -->
            <section class="sec-1">

                <article class="ar-1">

                    <nav class="main-menu">
                        <ul>
                            <!-- HOME -->
                            <li>
                                <a class="menu-task" href="HOME.html">Home</a>
                            </li>
                            <!-- ABOUT US  -->
                            <li>
                                <a class="menu-task" href="ABOUTUS.html">About us</a>
                            </li>
                            <!-- MENU  -->
                            <li>
                                <a class="menu-task" href="MENU.html">Menu</a>
                            </li>
                            <!-- POPULAR  -->
                            <li>
                                <a class="menu-task" href="POPULAR.html">Popular</a>
                            </li>
                            <!-- FEDDBACK  -->
                            <li>
                                <a class="menu-task" href="FEEDBACK.html">Feedback</a>
                            </li>
                            <!-- Contact us  -->
                            <li>
                                <a class="menu-task" href="CONTACTUS.html">Contact us</a>
                            </li>
                        </ul>
                    </nav>
                </article>
            </section>
        </header>
        <div class="card">
            <h1>Card</h1>
            <ul class="listcard"></ul>
            <div class="voucher">
                <!-- <h2 style="padding-bottom: 1rem; color: black;">Nhập voucher</h2> -->
                <input type="text" placeholder="Nhập voucher">
                <button onclick="applyDiscount(document.querySelector('.voucher input').value)">OK</button>
            </div>
            <div class="checkout">
                <div class="total">0</div>
                <div class="closeshopping">close</div>
            </div>
        </div>
       
        <main>  
           
            
            <!-- Nội dung thứ 3: Tiêu đề của trang  -->
            <section class="sec-3-1">
                <p>MENU</p>
                <div class="sec-3-linetittle"></div>
            </section>

            <!-- Nội dung thứ 4: Thanh chuyển đổi  -->
            <section class="sec-4-1">
                <p class="danhsach">THỨC UỐNG</p>
                <p class="danhsach">SNACK</p>
                <p class="danhsach">BARKEY</p>
            </section>

            <!-- Nội dung thứ 5: Thanh tìm kiếm  -->
            <section class="sec-5-1">
                <div class="sec-5-timkiem">
                    <label for="#">Nhóm sản phẩm:</label>
                    <select name="nhom_san_pham" class="stylesearch" >
                        <option value="chon_nhom">Chọn nhóm</option>
                        <option value="caramel_dua">Caramel Dừa</option>
                        <option value="tra_nguyen_ban">Trà</option>
                        <option value="da_xay">Đá xay</option>
                    </select>
                </div>
                <div class="sec-5-timkiem">
                    <label for="#">Theo giá:</label>
                    <select name="nhom_gia" class="stylesearch" >
                        <option value="khong_lua_chon">Không lựa chọn</option>
                        <option value="tu_thap_den_cao">Từ thấp đến cao</option>
                        <option value="tu_cao_den_thap">Từ cao đến thấp</option>
                    </select>
                </div>
                <div class="sec-5-timkiem">
                    <label for="#">Tìm kiếm:</label>
                    <input type="text" placeholder="Tên sản phẩm" id="kw" class="stylesearch" >
                    <button id="btsearch" onclick="searchp()">ok</button>
                </div>
            </section>

            <!-- Nội dung thứ 6: Chữ   -->
            <section class="sec-6-1" data-aos="fade-right">
                <p>Best seller</p>
            </section>

            <!-- Nội dung thứ 7: Danh sách đồ uống    -->

            <section class="sec-7-1">
                <div class="anhbestseller" id="anhbestseller" data-aos="fade-right">
                    <img src="../IMAGES/Ảnh chụp màn hình 2023-11-10 185406.png" alt="">
                </div>
                <div class="list"></div> 

                
            </section>
        </main>


        <!-- NỘI DUNG 8: FOOTER  -->

        <section class="sec-8">

            <footer>
                <div class="logo-main">

                    <div class="logo-footer" data-aos="fade-up">
                        <img src="../IMAGES/cốm milktea logo.png" alt="">
                    </div>

                    <div class="truki"></div>
                    
                    <nav class="main-footer" data-aos="fade-up">
                        <ul>
                            <li>
                                <a href="">About us</a>
                            </li>
                            <li>
                                <a href="">Menu</a>
                            </li>
                            <li>
                                <a href="">Popular</a>
                            </li>
                            <li>
                                <a href="">Feedback</a>
                            </li>
                            <li>
                                <a href="">Contact us</a>
                            </li>
                        </ul>

                    </nav>


                </div>

                <!-- //NỘI DUNG THỨ 2 trong footer  -->
                <div class="content-footer">
                    <!-- CONTACT  -->
                    <div class="contact-footer" data-aos="fade-down">
                        <p>CONTACT</p>
                        <!-- icon 1 -->
                        <div class="icon-footer">
                            <i class='fab fa-periscope'></i>
                            <p>27 West 24th St New York, NY10010</p>
                        </div>
                        <!-- icon 2 -->
                        <div class="icon-footer">
                            <i class="fa fa-mobile-phone"></i>
                            <p>877. 485. 0700</p>
                        </div>
                        <!-- icon 2 -->
                        <div class="icon-footer">
                            <i class='far fa-envelope'></i>
                            <p>hello@pbminfotech.com</p>
                        </div>
                    </div>
                    <!-- SIGup  -->
                    <div class="sigup-footer" data-aos="fade-down">

                        <p>Newsletter Sigup</p>

                        <div class="input-footer">
                            <i class='far fa-envelope'></i>
                            <input type="text" placeholder="Enter your Email">
                        </div>

                        <div class="checkbox-footer">
                            <input type="checkbox">
                            <p>I agree to the Privacy Policy.</p>
                        </div>
                    </div>

                    <!-- WORKING TIME  -->

                    <div class="work-footer" data-aos="fade-down">
                        <p>WORKING HOURS</p>
                        <div class="text-works">
                            <p>Mon - Fri: 7.00am - 6.00pm</p>
                            <p>Sat: 7.00am - 6.00pm</p>
                            <p>Sun: 8.00am - 6.00pm</p>
                        </div>

                    </div>



                </div>

                <!-- ICON SOCIAL MEDIA  -->
                <div class="icon-media" data-aos="fade-up">
                    <a href="">
                        <i class="fa fa-facebook-square"></i>
                    </a>
                    <a href="">
                        <i class="fa fa-twitter"></i>
                    </a>
                    <a href="">
                        <i class="fa fa-instagram"></i>
                    </a>
                    <a href="#">
                        <i class="fa fa-youtube-play"></i>
                    </a>
                </div>
            </footer>
        </section>

        <!-- BAN QUYEN THUOC VE  -->
        <div class="copyright">
            Copyright &copy 2023 CỐM MILKTEA, All Rights Reserved.
        </div>


        <!-- tìm kiếm -->
        <script>
            // function searchp() {
            //     var k = document.getElementById("kw");
            //     var anh = document.getElementById("anhbestseller")
            //     var line = document.getElementById("line")


            //     if (k != null) {
            //         k = k.value.toLowerCase(); // Chuyển đổi giá trị tìm kiếm thành chữ thường để tìm kiếm không phân biệt hoa thường

            //         var sp = document.querySelectorAll("section.sec-7-1 > div.sec-7-sanpham");

            //         for (var i = 0; i < sp.length; i++) {
            //             var ten_sp = sp[i].querySelector(".ten_sanpham").innerText.toLowerCase(); // Chuyển đổi tên sản phẩm thành chữ thường để tìm kiếm không phân biệt hoa thường
            //             var gia_sp = sp[i].querySelector(".gia_sanpham").innerText.toLowerCase(); // Chuyển đổi giá sản phẩm thành chữ thường để tìm kiếm không phân biệt hoa thường

            //             if (ten_sp.includes(k) || gia_sp.includes(k)) {
                            
            //                 sp[i].style.display = "block"; // Hiển thị sản phẩm tương thích
            //             } else {
            //                 sp[i].style.display = "none";
            //                 anh.style.display = "none";
            //                 line.style.display = "none";


            //             }
            //         }
            //     }
            // }
            function searchp() {
                let keyword = document.getElementById("kw").value.toLowerCase();
                let filteredProducts = products.filter(product => product.name.toLowerCase().includes(keyword));
                list.innerHTML = '';
                console.log(products);

                products.forEach((value, key) => {
                    if (!filteredProducts.includes(value)) {
                        return; // Bỏ qua sản phẩm không khớp với từ khóa tìm kiếm
                    }

                    let newDiv = document.createElement('article');
                    newDiv.innerHTML = `
                        <img src="../IMAGES/${value.image}"/>
                        <p class="ten_sanpham">${value.name}</p>
                        <p class="gia_sanpham">${value.price.toLocaleString()}</p>
                        <button onclick="addToCard(${key})">ĐẶT HÀNG</button>
                    `;
                    list.appendChild(newDiv);
                });
            }
        </script>
        <!-- Tìm kiếm theo giá  -->
        <script>

            // Lấy các phần tử liên quan đến select box và sự kiện change
            let selectBox = document.querySelector('select[name="nhom_gia"]');
            selectBox.addEventListener('change', sortProducts);

            // Hàm sắp xếp các sản phẩm
            function sortProducts() {
            let selectedValue = selectBox.value;
            let sortedProducts;

            // Sắp xếp các sản phẩm theo giá từ bé đến lớn
            if (selectedValue === 'tu_thap_den_cao') {
                sortedProducts = products.slice().sort((a, b) => a.price - b.price);
            }
            // Sắp xếp các sản phẩm theo giá từ lớn đến bé
            else if (selectedValue === 'tu_cao_den_thap') {
                sortedProducts = products.slice().sort((a, b) => b.price - a.price);
            }
            // Không lựa chọn, giữ nguyên thứ tự ban đầu
            else {
                sortedProducts = products;
            }

            // Xóa các sản phẩm hiện có trong danh sách
            list.innerHTML = '';

            // Hiển thị các sản phẩm đã được sắp xếp
            sortedProducts.forEach((value, key) => {
                let newDiv = document.createElement('article');
                newDiv.innerHTML = `
                <img src="../IMAGES/${value.image}"/>
                <p class="ten_sanpham">${value.name}</p>
                <p class="gia_sanpham">${value.price.toLocaleString()}</p>
                <button onclick="addToCard(${key})">ĐẶT HÀNG</button>
                `;
                list.appendChild(newDiv);
            });
            }

        </script>
        <!-- Tìm kiếm theo nhóm -->

        <script>

            
            // Lắng nghe sự kiện onchange của select element
            const selectElement = document.querySelector('select[name="nhom_san_pham"]');
            selectElement.addEventListener('change', handleSelectChange);

            function handleSelectChange(event) {
            const selectedValue = event.target.value;
            
            // Lọc danh sách sản phẩm theo giá trị đã chọn
            const filteredProducts = products.filter(product => {
                if (selectedValue === "chon_nhom") {
                return true; // Hiển thị tất cả sản phẩm nếu chọn "Chọn nhóm"
                } 
                else if (selectedValue === "caramel_dua") {
                return product.name.includes("Caramel Dừa");
                }
                else if (selectedValue === "tra_nguyen_ban") {
                return product.name.includes("Trà");
                }
                else if (selectedValue === "da_xay") {
                return product.name.includes("Đá Xay");
                } 
            });

            // Ẩn hoặc hiển thị sản phẩm dựa trên kết quả lọc
            const productElements = document.querySelectorAll('.list article');
            productElements.forEach(element => {
                const productName = element.querySelector('.ten_sanpham').textContent;
                if (filteredProducts.some(product => product.name === productName)) {
                element.style.display = 'block'; // Hiển thị sản phẩm
                } else {
                element.style.display = 'none'; // Ẩn sản phẩm
                }
            });
            }

            



           
        </script>


        <script>
            let openshopping = document.querySelector(".shopping");
            let closeshopping = document.querySelector(".closeshopping");
        
            let list = document.querySelector(".list");
            let listcard = document.querySelector(".listcard");
            let body = document.querySelector("body");
            let total = document.querySelector(".total");
            let quantity = document.querySelector(".quantity");
        
            openshopping.addEventListener('click', () => {
                body.classList.add('active');
            })
            closeshopping.addEventListener('click', () => {
                body.classList.remove('active');
            })
        
            let products = [
            {
                "id": 1,
                "name": "Hồng Trà Sữa Caramel",
                "image": "hongtrasuacaramel.png",
                "price": 55000
                },
                {
                "id": 2,
                "name": "Trà Sữa Matcha",
                "image": "trasuamatcha.png",
                "price": 40000
                },
                {
                "id": 3,
                "name": "Trà Sữa Berry Berry",
                "image": "trasuaberryberry.png",
                "price": 60000
                },
                {
                "id": 4,
                "name": "Hồng Trà Sữa",
                "image": "hongtrasua.png",
                "price": 40000
                },
                {
                "id": 5,
                "name": "Hồng Trà Caramel Dừa Đá Xay",
                "image": "hongtracaramelduadaxay.png",
                "price": 70000
                },
                {
                "id": 6,
                "name": "Trà Ô Long Dừa",
                "image": "traolongdua.png",
                "price": 55000
                },
                {
                "id": 7,
                "name": "Nhãn Đá Xay",
                "image": "nhandaxay.png",
                "price": 70000
                },
                {
                "id": 8,
                "name": "Trà Ô Long Mãng Cầu",
                "image": "traolongmangcau.png",
                "price": 50000
                },
                {
                "id": 9,
                "name": "Hồng Trà Chanh",
                "image": "hongtrachanh.png",
                "price": 35000
                },
                {
                "id": 10,
                "name": "Trà Chanh Đá Xay",
                "image": "trachanhdaxay.png",
                "price": 50000
                },
                {
                "id": 11,
                "name": "Matcha Đá Xay",
                "image": "matchadaxay.png",
                "price": 50000
                },
                {
                "id": 12,
                "name": "Oreo Cà Phê Sữa Đá Xay",
                "image": "oreocaphesuadaxay.png",
                "price": 60000
                },
                {
                "id": 13,
                "name": "Cà Phê Đá Xay",
                "image": "caphedaxay.png",
                "price": 60000
                },
                {
                "id": 14,
                "name": "Trà Đào Đá Xay",
                "image": "tradaodaxay.png",
                "price": 65000
                },
                {
                "id": 15,
                "name": "Sữa Chua Phúc Bồn Tử Đác Cam",
                "image": "suachuaphucbontucam.png",
                "price": 70000
                },
                {
                "id": 16,
                "name": "Sữa Chua Xoài Đác Thơm",
                "image": "suachuaxoadacthom.png",
                "price": 70000
                },
                {
                "id": 17,
                "name": "Cappuchino",
                "image": "cappuchino.png",
                "price": 45000
                },
                {
                "id": 18,
                "name": "Latte",
                "image": "latte.png",
                "price": 45000
                },
                {
                "id": 19,
                "name": "Phin Sữa Đá",
                "image": "phinsuada.png",
                "price": 35000
                },
                {
                "id": 20,
                "name": "Phin Đen Đá",
                "image": "phindenda.png",
                "price": 30000
                },

                
            ];
        
            let listcards = [];
        
            function initApp() {
                products.forEach((value, key) => {
                    let newDiv = document.createElement('article');
                    newDiv.setAttribute('data-aos', 'fade-up');
                    
                    newDiv.innerHTML = `
                        <img src="../IMAGES/${value.image}"/>
                        <p class="ten_sanpham">${value.name}</p>
                        <p class="gia_sanpham">${value.price.toLocaleString()}</p>
                        <button onclick="addToCard(${key})">ĐẶT HÀNG</button>
                    `;
                    list.appendChild(newDiv);
                })
            }
        
            initApp();
        
            function addToCard(key) {
                if (listcards[key] == null) {
                    listcards[key] = { ...products[key], quantity: 1 };
                } else {
                    listcards[key].quantity++;
                }
                reloadCard();
            }
        
            function changeQuantity(key, newQuantity) {
                if (newQuantity >= 0) {
                    listcards[key].quantity = newQuantity;
                    reloadCard();
                }
            }
        
            function reloadCard() {
                listcard.innerHTML = '';
                let count = 0;
                let totalprice = 0;
                listcards.forEach((value, key) => {
                    if (value != null) {
                        totalprice += value.price * value.quantity;
                        count += value.quantity;
        
                        let newDiv = document.createElement('li');
                        newDiv.classList.add('cc');
                        newDiv.innerHTML = `
                            <img src="../IMAGES/${value.image}"/>
                            <p class="ten_sanpham">${value.name}</p>
                            <p class="gia_sanpham">${value.price.toLocaleString()}</p>
                            <div class= "so_luong">${value.quantity}</div>
                            <div class = "So_luong_them">
                                <button onclick="changeQuantity(${key}, ${value.quantity - 1})">-</button>
                                <div class="count">${value.quantity}</div>
                                <button onclick="changeQuantity(${key}, ${value.quantity + 1})">+</button>
                            </div>
                        `;
                        listcard.appendChild(newDiv);
                    }
                })
        
                total.innerHTML = totalprice.toLocaleString();
                quantity.innerText = count;
            }
            function changeQuantity(key,quantity){
                if(quantity == 0){
                    delete listcards[key];
                }
                else{
                    listcards[key].quantity = quantity;
                    listcards[key].price = quantity * products[key].price;
                }
                reloadCard();
            }

            //Áp dụng voucher
            function applyDiscount(voucherCode) {
                // Kiểm tra xem voucherCode có hợp lệ không
                if (voucherCode === "ABC123") {
                    // Lấy tổng số tiền hiện tại trên thẻ
                    var currentTotal = parseInt(document.querySelector(".total").innerText);

                    // Tính giảm giá 10% từ tổng số tiền
                    var discount = currentTotal * 0.1;

                    // Tính tổng số tiền sau khi được giảm giá
                    var newTotal = currentTotal - discount;

                    // Cập nhật tổng số tiền mới lên thẻ HTML
                    document.querySelector(".total").innerText = newTotal;

                    // Hiển thị thông báo thành công
                    alert("Áp dụng voucher thành công! Giảm giá 10%.");

                    // Xóa giá trị trong ô nhập voucher
                    document.querySelector(".voucher input").value = "";
                } else {
                    // Hiển thị thông báo lỗi nếu voucherCode không hợp lệ
                    alert("Voucher không hợp lệ.");
                }
            }

        </script>

        <!-- Hiệu ứng ra vào  -->
        <script src="https://unpkg.com/aos@next/dist/aos.js"></script> 
        <script>
            AOS.init({
            duration: 1500,
            once:true
            });
        </script>
    
    <!-- Hiệu ứng hover sticky -->
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <script>
        $(document).ready(function () {
            $(window).scroll(function () {
                if ($(this).scrollTop()) {
                    $('header').addClass('sticky');
                }
                else {
                    $('header').removeClass('sticky');
                }
            });
        });
    </script>

    <script src="../JS/HOME.js"></script>



    </body>
</html>